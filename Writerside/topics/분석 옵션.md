# 분석 옵션

## 소스코드 분석 옵션

(TBD)

## 웹 취약점 분석 옵션


#### 로그인 기록 파일

로그인 기록 파일은 **Sparrow DAST 이벤트 클립보드에서 저장한 .ecl 형식의 파일**로써 **특정 URL에서 사용자의 동작이 기록**되어 있습니다. 주로 사용자가 특정 URL에서 로그인하는 데 사용한 ID 및 비밀번호 정보를 저장하여 URL을 수집하거나 분석할 때 사용합니다.
**로그인 기록 파일을 첨부하는 경우** URL 수집 및 분석 중에 이벤트 클립보드의 기록이 시작된 URL에 도달하면 해당 파일에 저장된 사용자의 동작을 그대로 재현하게 됩니다. 이러한 방법으로 **로그인 페이지에서 필요한 인증을 통과**할 수 있습니다. 이벤트 클립보드에 대한 자세한 내용은 [이벤트 클립보드로 분석](#이벤트-클립보드로-분석)을 참고하세요.


#### SSL 인증서 사용

SSL 인증서 사용은 내부 사이트 접속을 위해 SSL 인증서를 설정해야 하는 경우 **서버 설정에서 입력한 SSL 인증서를 사용하여 분석할 URL을 수집**하는지를 의미하며 `예`, `아니요`로 구분합니다.(기본값: `아니요`)
이 옵션을 `예`로 설정하면 **서버 설정에서 입력한 SSL 인증서를 사용**합니다. 따라서 HTTP 클라이언트가 해당 인증서가 있어야만 접속할 수 있는 웹 서버에 접근할 수 있습니다. 하지만 입력한 SSL 인증서가 아닌 **다른 인증서가 필요한 웹 서버는 접근할 수 없습니다**. 이 옵션을 `아니요`로 설정하면 웹 서버에 필요한 SSL 인증서의 신뢰 여부와 상관 없이 해당 웹 서버에 접근하게 됩니다. 따라서 **SSL 인증서가 유효하지 않거나 서버 설정에서 입력하지 않은 SSL 인증서가 필요한 웹 서버에도 접근**할 수 있습니다.


#### 클라이언트 언어

분석 대상인 웹 애플리케이션이 표시되는 브라우저에서 어떤 언어를 설정했고, HTTP 클라이언트가 어떤 언어를 이해할 수 있는지 설정합니다. **언어_지역**으로 표시되는 로케일 형식으로 입력할 수 있습니다.(기본값: `ko_KR`)


#### 제외할 수집 URL

제외할 수집 URL은 URL에 특정 단어가 포함된 경우 해당 URL을 수집하지 않고 건너뛰는 문자열 목록을 가리킵니다. 하나 이상의 문자열을 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.
이 옵션에 입력한 목록에 해당하는 단어가 하나라도 수집하려는 URL에 포함되었다면 해당 URL을 수집하지 않게 됩니다. 단, URL을 수집하기 직전에 건너뛰기 때문에 브라우저가 해당 URL에 방문할 수 있습니다.


#### 제외할 분석 URL

제외할 분석 URL은 URL에 특정 단어가 포함된 경우 해당 URL을 분석하지 않고 건너뛰는 문자열 목록을 가리킵니다. 하나 이상의 URL을 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.
이 옵션에 입력한 목록에 해당하는 단어가 하나라도 분석하려는 URL에 포함되었다면 해당 URL을 분석하지 않게 됩니다.

> **Tip:** URL로 표시되는 페이지 전체가 아니라 페이지의 동작을 분석에서 제외하려는 경우 아래에 있는 **이벤트 수행 제외 요소** 옵션을 사용하세요.


#### 제외할 URL 접미사

제외할 URL 접미사는 **URL의 끝에 특정 단어나 확장자가 포함된 경우 해당 URL을 수집하지 않고 건너뛰는 접미사 목록**을 가리킵니다. 마침표(.)로 시작하는 확장자 형식으로 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.(기본값: `.js, .css, .xml, .jpg, .jpeg, .gif, .bmp, .png, .ico, .wma, .wav, .mp3, .wmv, .avi, .mp4, .mov, .exe, .zip, .tar, .tar.gz, .7z, .doc, .xls, .ppt, .docx, .xlsx, .pptx, .pdf, .txt, .csv, .jar, .eot, .woff2, .woff, .ttf, .otf, .apk, .hwp`)
이 옵션에 입력한 **목록에 해당하는 단어가 하나라도 수집하려는 URL의 끝에 포함되었다면 해당 URL을 수집하지 않게** 됩니다. URL로 이동하기 전에 HTML 요소의 속성 값 등을 보고 건너뛰기 때문에 해당 URL에 방문하지 않으므로 파일 다운로드 등을 수행하기 전에 건너뛸 수 있습니다.


#### 추가 수집 범위

프로젝트를 추가하거나 설정할 때 입력한 URL 이외에 수집하려는 URL이 있는 경우 여기에 입력한 URL을 추가로 수집할 수 있습니다. 단, **추가 수집 범위**는 프로젝트에 설정한 URL이나 수집 범위 안에 있는 URL에서 도달할 수 있어야 합니다. 하나 이상의 값을 문자열로 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.
추가 수집 범위는 **분석 대상 URL로부터 도달할 수는 있지만 기본 수집 범위에 해당하지 않는 URL**을 가리킵니다. 여기서 분석의 기본 수집 범위는 프로젝트에 입력한 분석 대상 URL로부터 도달할 수 있으며 http와 같은 스키마가 같고 도메인명 또는 IP와 포트가 같은 URL을 의미합니다. 예를 들어, 분석 대상 URL이 `http://sparrow.com/main`이면 수집할 때 `https://google.com`이라는 URL을 발견하더라도 스키마나 도메인명이 다르기 때문에 수집하지 않는 것이 원칙입니다. 하지만 이 옵션에 `google.com`을 입력하면 `https://google.com`을 수집하게 됩니다. 하나 이상의 값을 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.
이 옵션에 입력한 **목록에 해당하는 URL이 하나라도 포함되어 있다면 해당 URL을 수집**하게 됩니다.


#### 이벤트 수행 제외 요소(CSS 선택자)

이 옵션에 입력한 목록에 해당하는 CSS 선택자가 하나라도 페이지에 포함되었다면 해당하는 HTML 요소와 하위 HTML 요소의 이벤트를 모두 수행하게 됩니다. 하나 이상의 제외할 CSS 선택자를 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.
이 옵션에 입력한 **목록에 해당하는 CSS 선택자가 하나라도 페이지에 포함되었다면 해당하는 HTML 요소와 하위 HTML 요소의 이벤트를 모두 수행하지 않게** 됩니다. 이러한 방법으로 페이지에서 **로그아웃 버튼을 클릭하지 않도록 설정**할 수 있습니다.


#### 이벤트 수행 추가 요소(CSS 선택자)

이 옵션에 입력한 목록에 해당하는 CSS 선택자가 하나라도 페이지에 포함되었다면 해당하는 HTML 요소와 하위 HTML 요소의 이벤트를 모두 수행하게 됩니다. 하나 이상의 추가할 CSS 선택자를 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.
이 옵션에 입력한 **목록에 해당하는 CSS 선택자가 하나라도 페이지에 포함되었다면 해당하는 HTML 요소와 하위 HTML 요소의 이벤트를 모두 수행**하게 됩니다. 이러한 방법으로 페이지에서 **이벤트에 포함되지 않는 태그와 같은 요소를 수행**할 수 있습니다.


#### 이벤트 수행 제외 요소(XPath)

이 옵션에 입력한 목록에 해당하는 XPath가 하나라도 페이지에 포함되었다면 해당하는 HTML 요소와 하위 HTML 요소의 이벤트를 모두 수행하지 않게 됩니다. 이러한 방법으로 페이지에서 로그아웃 버튼을 클릭하지 않도록 설정할 수 있습니다. 하나 이상의 제외할 XPath를 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.
이 옵션에 입력한 **목록에 해당하는 XPath가 하나라도 페이지에 포함되었다면 해당하는 HTML 요소와 하위 HTML 요소의 이벤트를 모두 수행하지 않게** 됩니다. 이러한 방법으로 페이지에서 **로그아웃 버튼을 클릭하지 않도록 설정**할 수 있습니다.


#### 이벤트 수행 추가 요소(XPath)

이 옵션에 입력한 목록에 해당하는 XPath가 하나라도 페이지에 포함되었다면 해당하는 HTML 요소와 하위 HTML 요소의 이벤트를 모두 수행하게 됩니다. 하나 이상의 추가할 XPath를 입력하고 엔터 또는 쉼표(,)로 구분할 수 있습니다.
이 옵션에 입력한 **목록에 해당하는 XPath가 하나라도 페이지에 포함되었다면 해당하는 HTML 요소와 그 하위 HTML 요소의 이벤트를 모두 수행**하게 됩니다. 이러한 방법으로 페이지에서 **이벤트에 포함되지 않는 태그와 같은 요소를 수행**할 수 있습니다.


#### 사용자 정의 HTTP 헤더

사용자 정의 HTTP 헤더는 URL을 수집할 때 전송할 HTTP 요청에 포함되는 헤더의 이름과 값의 목록을 가리킵니다. 이 옵션에 헤더의 이름과 값을 입력하면 해당 헤더를 모든 HTTP 요청 메시지에 추가하게 됩니다. **추가하기** 버튼을 클릭하여 하나 이상의 헤더를 추가하고 휴지통 아이콘을 클릭하여 삭제할 수 있습니다.
이 옵션에는 **HTTP 요청에 반드시 필요한 헤더를 입력**해야 합니다. 이로 인해 브라우저에 프록시를 설정하므로 수집 속도가 느려질 수 있습니다.
`Cookie` 헤더를 제외하고 **동일한 이름의 헤더를 여러 개 입력한 경우 그 중 하나만 적용**됩니다. 따라서 여러 값을 입력해야 하는 경우 헤더 값을 `;`로 구분하여 입력하세요. 같은 이름의 헤더가 이미 있는 경우 해당 헤더를 지우고 커스텀 헤더가 추가됩니다. 커스텀 헤더를 사용하려면 분석 대상 URL의 호스트가 `localhost` 또는 `127.0.0.1`로 설정되면 안됩니다. 로컬에 있는 웹 애플리케이션을 분석하려는 경우 로컬 IP 주소를 입력해야 합니다.

